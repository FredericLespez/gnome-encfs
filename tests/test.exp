# EXPECT: no listed items
# EXPECT: succeeding add (1)
# EXPECT: 1 listed item (1)
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
# EXPECT: failing add - mount point in use
Warning: mount point already in keyring
# EXPECT: 1 listed item (1)
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
# EXPECT: succeeding add (2)
# EXPECT: 2 listed items (1,2)
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
# EXPECT: succeeding add (3a)
# EXPECT: 3 listed items (1,2,3a)
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3a
  mount at login : yes
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
# EXPECT: succeeding add (3b)
# EXPECT: 4 listed items (1,2,3a,3b)
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3b
  mount at login : yes
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3a
  mount at login : yes
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
# EXPECT: 2 succeeding mounts (3a,3b)
Mounting ./tenv/m3b: OK
Mounting ./tenv/m3a: OK
# EXPECT: 2 mounted paths (3a,3b)
encfs on ./tenv/m3b type fuse.encfs (rw,nosuid,nodev,default_permissions,)
encfs on ./tenv/m3a type fuse.encfs (rw,nosuid,nodev,default_permissions,)
# EXPECT: no mounted paths - all unmounted
# EXPECT: 4 succeeding mounts (1,2,3a,3b)
Mounting ./tenv/m3b: OK
Mounting ./tenv/m3a: OK
Mounting ./tenv/m2: OK
Mounting ./tenv/m1: OK
# EXPECT: 4 mounted paths (1,2,3a,3b)
encfs on ./tenv/m3b type fuse.encfs (rw,nosuid,nodev,default_permissions,)
encfs on ./tenv/m3a type fuse.encfs (rw,nosuid,nodev,default_permissions,)
encfs on ./tenv/m2 type fuse.encfs (rw,nosuid,nodev,default_permissions,)
encfs on ./tenv/m1 type fuse.encfs (rw,nosuid,nodev,default_permissions,)
# EXPECT: 4 failing mounts - already mounted
Mounting ./tenv/m3b: mount point already in use
Mounting ./tenv/m3a: mount point already in use
Mounting ./tenv/m2: mount point already in use
Mounting ./tenv/m1: mount point already in use
# EXPECT: no mounted paths - all unmounted
# EXPECT: 3 items (1,2,3b)
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3b
  mount at login : yes
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
cmp ./tenv/m3a
cmp ./tenv/m3a
# EXPECT: 3 items (1,2,3a)
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3a
  mount at login : yes
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
cmp ./tenv/m3a
cmp ./tenv/m3a
# EXPECT: 3 items (1,2,3a)
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3a
  mount at login : yes
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
# EXPECT: 1 failing mount (3a) - wrong password
Mounting ./tenv/m3a: Error decoding volume key, password incorrect
# EXPECT: no mounted paths
cmp ./tenv/m3b
cmp ./tenv/m3b
# EXPECT: 3 items (1,2,3b)
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3b
  mount at login : yes
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
# EXPECT: 1 succeeding mount (3b)
Mounting ./tenv/m3b: OK
# EXPECT: 1 mounted path (3b)
encfs on ./tenv/m3b type fuse.encfs (rw,nosuid,nodev,default_permissions,)
# EXPECT: no mounted paths - all unmounted
# EXPECT: failing edit (3b->2) - mount point in use
cmp ./tenv/m2
Warning: mount point already in use
# EXPECT: 3 items (1,2,3b)
* encfs path     : ./tenv/e3
  mount point    : ./tenv/m3b
  mount at login : yes
* encfs path     : ./tenv/e2
  mount point    : ./tenv/m2
  mount at login : yes
* encfs path     : ./tenv/e1
  mount point    : ./tenv/m1
  mount at login : yes
